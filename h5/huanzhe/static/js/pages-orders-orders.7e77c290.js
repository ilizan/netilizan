(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-orders-orders"],{"1bea":function(t,e,i){"use strict";var n=i("a353"),o=i.n(n);o.a},2808:function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.optFw=function(t){return new Promise((function(e,i){uni.showModal({title:"提示",content:"确认该服务已完成吗？",success:function(n){n.confirm&&o.default.get("/patient/orders/confirmService",{id:t}).then((function(t){uni.showToast({title:"操作成功"}),setTimeout((function(){e()}),1e3)})).catch((function(t){i(t)}))}})}))},e.optQx=function(t){return new Promise((function(e,i){uni.showModal({title:"提示",content:"确认要取消订单吗？",success:function(n){n.confirm&&o.default.get("/patient/orders/cancel",{id:t}).then((function(t){uni.showToast({title:"取消成功"}),setTimeout((function(){e()}),1e3)})).catch((function(t){i(t)}))}})}))},e.optZf=function(t){return new Promise((function(e,i){o.default.get("/patient/orders/payOrder",{id:t}).then((function(t){uni.showToast({title:"支付成功"}),setTimeout((function(){e()}),500)})).catch((function(t){i(t)}))}))},i("d3b7");var o=n(i("56a3"))},4885:function(t,e,i){"use strict";i("7a82"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("4de4"),i("d3b7");var n={urlTobase64:function(t){console.log(t)},dateTimeStr:function(t){var e=new Date;return e.setDate(e.getDate()+t),console.log(e.toISOString().split("T")[0]),e.toISOString().split("T")[0]},statusValue:function(t){var e=[{key:1,value:"待付款"},{key:2,value:"未派单"},{key:3,value:"待确认"},{key:4,value:"未出发"},{key:5,value:"已出发"},{key:6,value:"已到达"},{key:7,value:"待评价"},{key:8,value:"已评价"},{key:9,value:"已拒单"},{key:10,value:"已取消"}].filter((function(e){return e.key==t}))[0].value;return e}};e.default=n},"569f":function(t,e,i){"use strict";i("7a82");var n=i("4ea4").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(i("5530")),a=i("2808"),s=n(i("4885")),r=i("26cb"),u={data:function(){return{CustomBar:0,listTab:[{name:"全部订单"},{name:"待付款"},{name:"待服务"},{name:"服务中"},{name:"已完成"}],selectListIndex:0,form:{tab:1},list:[],loadMoreText:"加载中...",showLoadMore:!1,scrollTop:0,iconStyle:{color:"#FFFFFF"}}},computed:(0,o.default)((0,o.default)({},(0,r.mapState)({loginStatus:function(t){return t.user.loginStatus}})),{},{customStyle:function(){return{width:"100%",height:"60rpx",background:"linear-gradient(90deg, #05B3BD 0%, #1FCDB7 100%)",color:"#FFF",borderRadius:"30px",padding:"10px 0rpx",border:"none"}},customStyle1:function(){return{width:"100%",height:"60rpx",background:"#FFF",color:"#05B3BD",borderRadius:"30px",padding:"10px 0rpx",border:"1px solid #05B3BD"}}}),onPageScroll:function(t){this.scrollTop=t.scrollTop},onUnload:function(){this.loadMoreText="加载更多",this.showLoadMore=!1,uni.$off("getNurseList")},onLoad:function(){},onShow:function(){this.loginStatus||uni.navigateTo({url:"/pages/login2/login2"}),this.getData()},onPullDownRefresh:function(){this.getData()},methods:{statusView:function(t){return s.default.statusValue(t)},toZf:function(){},toFw:function(t){var e=this;(0,a.optFw)(t.id).then((function(){e.getData()})).catch((function(t){}))},toQx:function(t){var e=this;(0,a.optQx)(t.id).then((function(){e.getData()})).catch((function(t){}))},toPj:function(t,e){uni.navigateTo({url:"/pages/comment/comment?id="+e.id+"&opt="+t})},click:function(t){this.selectListIndex=t.index,uni.pageScrollTo({scrollTop:0,duration:300}),this.form.tab=this.selectListIndex+1,this.getData()},getData:function(){var t=this;this.$H.get("/patient/orders/list",this.form,{token:!0}).then((function(e){t.list=e,uni.stopPullDownRefresh()}))},toOrderPage:function(t){uni.navigateTo({url:"/pages/orderInfo/orderInfo?id="+t})}},onReachBottom:function(){}};e.default=u},a353:function(t,e,i){var n=i("aab1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var o=i("4f06").default;o("a2a2b9b2",n,!0,{sourceMap:!1,shadowMode:!1})},aab1:function(t,e,i){var n=i("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-20f08a9b]{background-color:#f5f8f9}body.?%PAGE?%[data-v-20f08a9b]{background-color:#f5f8f9}.ordersPage[data-v-20f08a9b]{position:relative}',""]),t.exports=e},ad07:function(t,e,i){"use strict";i.r(e);var n=i("569f"),o=i.n(n);for(var a in n)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(a);e["default"]=o.a},c260:function(t,e,i){"use strict";i.r(e);var n=i("c3cc"),o=i("ad07");for(var a in o)["default"].indexOf(a)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(a);i("1bea");var s=i("f0c5"),r=Object(s["a"])(o["default"],n["b"],n["c"],!1,null,"20f08a9b",null,!1,n["a"],void 0);e["default"]=r.exports},c3cc:function(t,e,i){"use strict";i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){return n}));var n={uvSticky:i("0de3").default,uvTabs:i("109c").default,uvButton:i("b12d").default,uvEmpty:i("63fa").default,uvBackTop:i("77eb").default},o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.loginStatus?i("v-uni-view",{staticClass:"ordersPage"},[i("gh-custom",[i("v-uni-view",{attrs:{slot:"content"},slot:"content"},[t._v("护理上门")])],1),i("uv-sticky",{attrs:{bgColor:"#f5f8f9","offset-top":t.CustomBar}},[i("uv-tabs",{attrs:{scrollable:!1,lineWidth:"50",lineHeight:"5",lineColor:"linear-gradient(to right, #04B2BD , #FFFFFF)",activeStyle:{color:"#383838",fontWeight:"bold",transform:"scale(1.05)"},inactiveStyle:{color:"#ADADAD",transform:"scale(1)"},itemStyle:"padding-left: 5px; padding-right: 5px; height: 50px;",list:t.listTab,current:t.selectListIndex},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.click.apply(void 0,arguments)}}})],1),i("v-uni-view",{staticClass:"ordersList m-2"},[t._l(t.list,(function(e,n){return i("v-uni-view",{key:n,staticClass:"ordersItem d-flex flex-column bg-white p-2 mb-2",staticStyle:{"border-radius":"18px"},on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.toOrderPage(e.id)}}},[i("v-uni-view",{staticClass:"giTop d-flex j-sb mb-2"},[i("v-uni-view",{staticStyle:{color:"#383838","font-size":"32upx"}},[t._v(t._s(e.orderTime))]),t._v(t._s(t.statusView(e.orderStatus)))],1),i("v-uni-view",{staticClass:"giCont d-flex"},[i("v-uni-view",{staticClass:"imageBox mr-2 d-flex a-center",staticStyle:{width:"100px"}},[i("v-uni-image",{staticStyle:{width:"100px"},attrs:{src:e.projectImageUrl,mode:"widthFix"}})],1),i("v-uni-view",{staticClass:"giInfoBox d-flex flex-column flex-1"},[i("v-uni-view",{staticClass:"giTitle line-h-md",staticStyle:{"font-size":"32upx"}},[t._v(t._s(e.projectName))]),i("v-uni-view",{staticClass:"priceDetail row line-h-md"},[i("v-uni-view",{staticClass:"priceItem span-10 row"},[i("v-uni-view",{staticClass:"piName font-13 mr-1",staticStyle:{color:"#ADADAD"}},[t._v("服务费")]),i("v-uni-view",{staticClass:"piValue font-13"},[t._v("¥"+t._s(e.currentPrice))])],1),i("v-uni-view",{staticClass:"priceItem span-10 row"},[i("v-uni-view",{staticClass:"piName font-13 mr-1",staticStyle:{color:"#ADADAD"}},[t._v("交通费")]),i("v-uni-view",{staticClass:"piValue font-13"},[t._v("¥"+t._s(e.trafficCost))])],1),i("v-uni-view",{staticClass:"priceItem span-10 row"},[i("v-uni-view",{staticClass:"piName font-13 mr-1",staticStyle:{color:"#ADADAD"}},[t._v("材料费")]),i("v-uni-view",{staticClass:"piValue font-13"},[t._v("¥"+t._s(e.materialCost))])],1),e.renewalServiceFee?i("v-uni-view",{staticClass:"priceItem span-10 row"},[i("v-uni-view",{staticClass:"piName font-13 mr-1",staticStyle:{color:"#ADADAD"}},[t._v("续买服务")]),i("v-uni-view",{staticClass:"piValue font-13"},[t._v("¥"+t._s(e.renewalServiceFee))])],1):t._e()],1),i("v-uni-view",{staticClass:"priceTotal d-flex line-h-md a-center",staticStyle:{"font-size":"34upx"}},[i("v-uni-view",{staticClass:"mr-1",staticStyle:{"font-size":"34upx"}},[t._v("实付")]),i("v-uni-view",{staticClass:"text-hiroPrice"},[t._v("¥"+t._s(e.orderAmount))])],1)],1)],1),i("v-uni-view",{staticClass:"d-flex j-end"},[1==e.orderStatus?i("v-uni-view",{staticClass:"d-flex j-sb a-center w-50"},[i("v-uni-view",{staticStyle:{width:"49%"}},[i("uv-button",{attrs:{customStyle:t.customStyle1,customTextStyle:{fontSize:"34rpx !important"},type:"primary",size:"mini",text:"取消订单"},nativeOn:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.toQx(e)}}})],1),i("v-uni-view",{staticStyle:{width:"49%"}},[i("uv-button",{attrs:{customStyle:t.customStyle,customTextStyle:{fontSize:"34rpx !important"},type:"primary",size:"mini",text:"去支付"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.toZf.apply(void 0,arguments)}}})],1)],1):t._e(),2==e.orderStatus||3==e.orderStatus||4==e.orderStatus?i("v-uni-view",{staticClass:"d-flex j-sb a-center",staticStyle:{width:"25%"}},[i("uv-button",{attrs:{customStyle:t.customStyle1,customTextStyle:{fontSize:"34rpx !important"},type:"primary",size:"mini",text:"取消订单"},nativeOn:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.toQx(e)}}})],1):t._e(),6==e.orderStatus?i("v-uni-view",{staticClass:"d-flex j-sb a-center",staticStyle:{width:"25%"}},[i("uv-button",{attrs:{customStyle:t.customStyle,customTextStyle:{fontSize:"34rpx !important"},type:"primary",iconColor:"#FFFFFF",size:"mini",text:"确认已服务"},nativeOn:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.toFw(e)}}})],1):t._e(),7==e.orderStatus?i("v-uni-view",{staticClass:"d-flex j-sb a-center",staticStyle:{width:"25%"}},[i("uv-button",{attrs:{customStyle:t.customStyle1,customTextStyle:{fontSize:"34rpx !important"},type:"primary",iconColor:"#FFFFFF",size:"mini",text:"去评价"},nativeOn:{click:function(i){i.stopPropagation(),arguments[0]=i=t.$handleEvent(i),t.toPj("add",e)}}})],1):t._e()],1)],1)})),0==t.list.length?i("v-uni-view",{staticStyle:{"padding-top":"200upx"}},[i("uv-empty",{attrs:{mode:"order"}})],1):t._e(),i("uv-back-top",{attrs:{"scroll-top":t.scrollTop,iconStyle:t.iconStyle,customStyle:"background:#04b2bd"}})],2)],1):t._e()},a=[]}}]);