import{f as k}from"./style-DBYZFAN_.js";import{bO as y,aS as n,u as s,v as l,t as p,I as R,bi as V,aK as c}from"./index-BAi-_Ng5.js";const h={key:0},I={key:1},x=["src"],w={__name:"VueAdvancedCropper1",setup(A){const r=n(null),a=n(null),u=n(null),d=n({aspectRatio:0,size:.5,movable:!0,resizable:!0,transparent:!0}),v=n({background:"rgba(0, 0, 0, 0.5)",borderRadius:"8px"}),m=n({width:300,height:300,x:100,y:100}),f=e=>{const o=e.target.files[0];if(o){const t=new FileReader;t.onload=()=>{r.value=t.result},t.readAsDataURL(o)}},g=()=>{const e=u.value;if(console.log(e),e){const{coordinates:o,image:t,visibleArea:C,canvas:i}=e.getResult();console.log(o,t,C,i),a.value=i.toDataURL()}},b=e=>{a.value=e.dataUrl},_=()=>{const e=document.createElement("a");e.href=a.value,e.download="cropped-image.jpg",e.click()};return(e,o)=>(c(),s("div",null,[o[2]||(o[2]=l("h1",null,"自定义图片裁剪",-1)),l("input",{type:"file",onChange:f,accept:"image/*"},null,32),r.value?(c(),s("div",h,[R(V(k),{ref_key:"cropperRef",ref:u,modelValue:a.value,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value=t),src:r.value,"stencil-props":d.value,"boundary-props":v.value,"initial-stencil":m.value,"auto-crop":!0,onCrop:b},null,8,["modelValue","src","stencil-props","boundary-props","initial-stencil"])])):p("",!0),l("button",{onClick:g},"裁剪图片"),a.value?(c(),s("div",I,[o[1]||(o[1]=l("h3",null,"裁剪后的图片：",-1)),l("img",{src:a.value,alt:"裁剪后的图片"},null,8,x),l("button",{onClick:_},"下载裁剪图片")])):p("",!0)]))}},N=y(w,[["__scopeId","data-v-f6bf37f2"]]);export{N as default};
