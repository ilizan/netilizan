import{bO as y,aS as c,u as m,v as e,bJ as k,by as C,F as I,aV as U,aK as g}from"./index-BAi-_Ng5.js";const w={style:{"margin-top":"10px"}},R=["disabled"],L=["disabled"],B=["disabled"],D={class:"img-box"},E=["src"],H={class:"split-list"},S=["src"],V={__name:"ImgSplit",setup(W){const r=c(""),f=c(null),u=c([]),d=c("vertical"),p=c(3);function _(){d.value="vertical",v()}function b(){d.value="horizontal",v()}function h(s){const t=s.target.files[0];t&&(r.value=URL.createObjectURL(t),u.value=[])}function v(){const s=f.value;if(!s||!s.complete){alert("图片未加载完成");return}const t=p.value;if(t<1){alert("拆分份数必须 ≥ 1");return}const n=s.naturalWidth,o=s.naturalHeight;if(u.value=[],d.value==="vertical"){const l=n/t;for(let i=0;i<t;i++){const a=document.createElement("canvas");a.width=l,a.height=o,a.getContext("2d").drawImage(s,l*i,0,l,o,0,0,l,o),u.value.push(a.toDataURL("image/png"))}}else{const l=o/t;for(let i=0;i<t;i++){const a=document.createElement("canvas");a.width=n,a.height=l,a.getContext("2d").drawImage(s,0,l*i,n,l,0,0,n,l),u.value.push(a.toDataURL("image/png"))}}}return(s,t)=>(g(),m("div",null,[e("input",{type:"file",onChange:h},null,32),e("div",w,[e("button",{onClick:t[0]||(t[0]=n=>_()),disabled:!r.value},"垂直拆分",8,R),e("button",{onClick:t[1]||(t[1]=n=>b()),disabled:!r.value},"水平拆分",8,L),t[3]||(t[3]=e("span",{style:{"margin-left":"10px"}},"拆分份数：",-1)),k(e("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=n=>p.value=n),min:"1",style:{width:"60px"}},null,512),[[C,p.value,void 0,{number:!0}]]),e("button",{onClick:v,disabled:!r.value,style:{"margin-top":"10px"}}," 开始拆分 ",8,B)]),e("div",D,[e("img",{ref_key:"imgRef",ref:f,class:"img",src:r.value},null,8,E)]),t[4]||(t[4]=e("h3",null,"拆分后的图片：",-1)),e("div",H,[(g(!0),m(I,null,U(u.value,(n,o)=>(g(),m("img",{key:o,src:n,class:"split-img"},null,8,S))),128))])]))}},F=y(V,[["__scopeId","data-v-5fcc079f"]]);export{F as default};
